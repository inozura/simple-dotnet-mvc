@model IEnumerable<assessment_kelvin.Models.Product>

@{
  ViewData["Title"] = "Index";
}

<div class="d-flex flex-row justify-content-between align-items-center mt-2 mt-md-4">
  <h2>My Product List</h2>

  <a asp-action="Create" class="btn btn-primary">Create New</a>
</div>


@if (!Model.Any())
{
  <p class="text-center mt-5 fw-bold fs-5">Empty Product</p>
} else
{
  <div data-aos="fade-up" class="card p-3 mt-5">
    <div class="card-body overflow-scroll">
      <table class="table">
        <thead>
          <tr>
            <th scope="col">
              @Html.DisplayNameFor(model => model.Image)
            </th>
            <th scope="col">
              @Html.DisplayNameFor(model => model.Name)
            </th>
            <th scope="col">
              @Html.DisplayNameFor(model => model.Description)
            </th>
            <th scope="col">
              @Html.DisplayNameFor(model => model.Price)
            </th>
            <th scope="col"></th>
          </tr>
        </thead>
        <tbody>
          @foreach (var (product, index) in Model.Select((item, i) => (item, i)))
          {
            <tr>
              <td>
                @if (product.Image != null)
                {
                  <img src="@Url.Content(product.Image)" alt="Image" width="100" />
                }
              </td>
              <td>
                @Html.DisplayFor(modelItem => product.Name)
              </td>
              <td colspan="2">
                <span class="archiveText">
                  @Html.DisplayFor(modelItem => product.Description)
                </span>
              </td>
              <td>
                @Html.DisplayFor(modelItem => product.Price)
              </td>
            </tr>
          }
        </tbody>
      </table>
    </div>
  </div>
}